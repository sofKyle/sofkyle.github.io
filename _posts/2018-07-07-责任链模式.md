---
layout: post
title: 责任链模式
tags: [设计模式, ]

---

### 责任链模式简介

回忆一下我们请假的流程。首先，我们要向我们的组长提出申请，组长同意后，会把申请转发给部门负责人，部门负责人审核后报备给HR，然后HR将请假申请归档。

对于这样一系列流程，不管申请到哪一级，都有共同的行为：处理上一级流转过来的请假申请。

如果纯粹用顺序逻辑来处理这样的需求，其后果必然是造成大量臃肿、高耦合的代码。

责任链模式则可以很好地用来处理这样场景的需求。它将每一级抽象成一个节点，如果要新增新的层级，只需配置好节点顺序，然后让数据在串起来的节点中流转。这样，既可以保证每一层级的逻辑清晰明了，也可以保证在新增层级时，不对旧逻辑产生干扰，从而减小了耦合度。



### 责任链模式在生产中的应用

#### Servlet中的Filter
在Java Web项目中，常常对web服务器管理的所有web资源：例如JSP，Servlet，静态图片文件或静态HTML文件进行拦截、过滤，用以实现URL级别的权限控制、过滤敏感词汇、压缩响应信息等一些高级功能。

Servlet中的Filter正是用来辅助实现这一功能的接口。在一个Web应用中，可以编写多个Filter，这些Filter组合起来称之为一个FilterChain。

Servlet通过在web.xml中配置&lt;filter>注册过滤器，然后用&lt;filter-mapping>标签将过滤器映射到具体的接口实现上。



#### Dubbo中的Filter



#### Mybatis中的Plugin