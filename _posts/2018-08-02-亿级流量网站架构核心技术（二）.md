---
layout: post
title: 亿级流量网站架构核心技术（二）
tags: [阅读, ]

---

### 负载均衡
**二层负载均衡**：通过改写报文的目标MAC地址为上游服务器MAC地址，源IP地址和目标IP地址是没有变的，负载均衡服务器和真实服务器共享一个VIP，如LVS DR工作模式。

**四层负载均衡**：根据端口将报文转发到上游服务器（不同的IP地址+端口），如LVS NAT模式，HaProxy。

**七层负载均衡**： 根据端口号和应用层协议如HTTP协议的主机名、URL，转发报文到上游服务器（不同的IP地址+端口），如HaProxy、Nginx。

4层和7层的区别
